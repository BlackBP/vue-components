@import "../mixins/form-switches";

.c-checkbox {
  $self: #{&};
  $label: #{$self}__label;
  $content: #{$self}__content;
  $toggle: #{$self}__toggle;
  $toggle-mark: #{$toggle}-mark;
  $toggle-box: #{$toggle}-box;
  $toggle-shadow: #{$toggle}-shadow;

  @at-root {

    #{$self} {
      @include switches-style;

      &:hover,
      &:focus {
        #{$toggle} {
          box-shadow: $switches-toggle-shadow;
        }

        #{$toggle-shadow} {
          opacity: 1;
          transform: scale(2);
        }
      }

      &:active {
        #{$toggle-shadow} {
          background-color: $switches-shadow-press-color;
        }
      }

      &.is-active {
        &:active {
          #{$toggle-shadow} {
            background-color: $switches-active-shadow-press-color
          }
        }

        #{$toggle-box} {
          border-color: $switches-active-color;
          background-color: $switches-active-color;
        }

        #{$toggle-mark} {
          opacity: 1;
          transform: scale(1);
        }

        #{$toggle-shadow} {
          background-color: $switches-active-shadow-color;
        }
      }
    }

    #{$label} {
      @include switches-label;
    }

    #{$content} {
      @include switches-content;
    }

    #{$toggle} {
      @include switches-toggle;
      position: relative;
      z-index: 0;
      border-radius: $checkbox-border-radius;
    }

    #{$toggle-mark} {
      position: absolute;
      z-index: 3;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: block;
      opacity: 0;
      transform: scale(0);
      background: $checkbox-mark-checked-background no-repeat center / 90%;
      transition: opacity $switches-transition, transform $switches-transition;
    }

    #{$toggle-box} {
      @include switches-toggle-box;
      position: relative;
      z-index: 2;
      border-radius: $checkbox-border-radius;
      transition: background-color $switches-transition, border-color $switches-transition;
    }

    #{$toggle-shadow} {
      @include switches-toggle-shadow;
      position: absolute;
      z-index: 1;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }

  }

}