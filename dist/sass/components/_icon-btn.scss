@import "../mixins/btn";

.c-icon-btn {
  $self: #{&};
  $icon: #{$self}__icon;

  // Modifiers
  $mod-color-primary: #{$self}--primary;
  $mod-color-secondary: #{$self}--secondary;
  $mod-color-success: #{$self}--success;
  $mod-color-error: #{$self}--error;
  $mod-color-warn: #{$self}--warn;
  $mod-color-info: #{$self}--info;
  $mod-color-light: #{$self}--light;
  $mod-color-dark: #{$self}--dark;
  $mod-elevated: #{$self}--elevated;
  $mod-dense: #{$self}--dense;
  $mod-transparent: #{$self}--transparent;
  $mod-bordered: #{$self}--bordered;

  // Styles
  @at-root {

    #{$self} {
      display: inline-flex;
      flex-flow: row nowrap;
      justify-content: center;
      align-items: center;
      width: $icon-btn-default-size;
      height: $icon-btn-default-size;
      padding: 0;
      margin: 0;
      border: $btn-border $btn-background-color;
      border-radius: calc(#{$icon-btn-default-size} / 2);
      background-color: $btn-background-color;
      background-clip: border-box;
      color: inherit;
      font-size: $btn-font-size;
      line-height: 1;
      text-decoration: none;
      cursor: pointer;
      transition: box-shadow $btn-transition, background-color $btn-transition, color $btn-transition, border-color $btn-transition;
      @include no-select();

      &:hover,
      &:focus {
        background-color: $btn-hover-background-color;
        border-color: $btn-hover-background-color;
        text-decoration: none;
      }

      &:active {
        background-color: $btn-active-background-color;
        border-color: $btn-active-background-color;
      }

      &[disabled],
      &[disabled="disabled"] {
        background-color: $btn-disabled-background-color !important;
        border-color: $btn-disabled-background-color !important;
        color: $btn-disabled-font-color !important;
        box-shadow: none !important;
        cursor: not-allowed !important;
        pointer-events: unset;
      }
    }

    #{$icon} {
      flex: 0 0 auto;
      display: inline-block;
      margin: auto;
    }
  }

  // Colored
  @include btn-modifier-colored($mod-color-primary, $color-primary);
  @include btn-modifier-colored($mod-color-secondary, $color-secondary);
  @include btn-modifier-colored($mod-color-success, $color-success);
  @include btn-modifier-colored($mod-color-error, $color-error);
  @include btn-modifier-colored($mod-color-warn, $color-warn);
  @include btn-modifier-colored($mod-color-info, $color-info);
  @include btn-modifier-colored($mod-color-light, $color-light, $btn-font-color);
  @include btn-modifier-colored($mod-color-dark, $color-dark);

  // Transparent
  @include make-modifier($mod-transparent) {
    background-clip: padding-box;

    @include btn-transparent($btn-font-color);
    @include btn-modifier-transparent($mod-color-primary, $color-primary);
    @include btn-modifier-transparent($mod-color-secondary, $color-secondary);
    @include btn-modifier-transparent($mod-color-success, $color-success);
    @include btn-modifier-transparent($mod-color-error, $color-error);
    @include btn-modifier-transparent($mod-color-warn, $color-warn);
    @include btn-modifier-transparent($mod-color-info, $color-info);
    @include btn-modifier-transparent($mod-color-light, $color-light);
    @include btn-modifier-transparent($mod-color-dark, $color-dark);
  }

  // Bordered
  @include make-modifier($mod-bordered) {
    background-color: transparent;

    @include btn-bordered($btn-font-color);
    @include btn-modifier-bordered($mod-color-primary, $color-primary);
    @include btn-modifier-bordered($mod-color-secondary, $color-secondary);
    @include btn-modifier-bordered($mod-color-success, $color-success);
    @include btn-modifier-bordered($mod-color-error, $color-error);
    @include btn-modifier-bordered($mod-color-warn, $color-warn);
    @include btn-modifier-bordered($mod-color-info, $color-info);
    @include btn-modifier-bordered($mod-color-light, $color-light, $btn-font-color);
    @include btn-modifier-bordered($mod-color-dark, $color-dark);
  }

  // Elevated
  @include make-modifier($mod-elevated) {
    @include box-elevation(3);

    &:hover,
    &:focus {
      @include box-elevation(6)
    }

    &:active {
      @include box-elevation(1);
    }
  }

  // Dense
  @include make-modifier($mod-dense) {
    width: $icon-btn-dense-size;
    height: $icon-btn-dense-size;
  }
}
